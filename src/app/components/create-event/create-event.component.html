<a class="mb-10 cursor-pointer" 
   (click)="showModalDialog()"
   *ngIf="user.role === 'ROLE_ADMIN'">
        Create Event
</a>


<!-- Dialog to create event-->
<p-dialog class="dialog--small"
          header="Create Event" 
          [(visible)]="displayModal" 
          [modal]="true" 
          [style]="{width: '45rem'}"
          [baseZIndex]="10000"
          appendTo="body"
          [draggable]="false">

    <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">

        <div class="form__group">
            <div class="form__group--head">
                <label class="form__label">Title</label>
            </div>
            <input type="text" 
                class="form__input" 
                placeholder="at least 8 characters"
                formControlName="title">
        </div>

        <div class="form__group">
            <div class="form__group--head">
                <label class="form__label">Region</label>
            </div>
            <p-dropdown class="form_input"
                        [options]="regions"
                        placeholder="Select a Region" 
                        dataKey="_id"
                        optionLabel="city"
                        formControlName="region"
                        [showClear]="false">
            </p-dropdown>
        </div>

        <div class="form__group">
            <div class="form__group--head">
                <label class="form__label">Description</label>
            </div>
            <textarea type="text" 
                      rows="5"
                      class="form__input" 
                      placeholder="add some detail to the event"
                      formControlName="description">
            </textarea>
        </div>

        <div class="form__group">
           
            <div class="p-field-checkbox">
                <p-checkbox inputId="binary" 
                            class="form__input-checkbox"
                            [binary]="true"
                            formControlName="visibility">
                </p-checkbox>
                <label for="binary" class="form__input-checkbox-label">Make private this event</label>
            </div>
            
        </div>
      

        <div class="p-dialog__btns">
            <button class="btn--clear btn--small" (click)="displayModal=false">Close</button>
            <button type="submit" class="btn btn--small" [disabled]="eventForm.invalid" *ngIf="!eventForm.controls.visibility.value || selectedUsers.length">Create Event</button>
            <button type="button" 
                    class="btn btn--small" 
                    [disabled]="eventForm.invalid" 
                    *ngIf="eventForm.controls.visibility.value" 
                    (click)="displayModalInviteFriends = true">
                        Invite Friends
            </button>
        </div>

    </form>

</p-dialog>
<!-- Dialog to create event-->


<!-- Dialog to invite friends to an private event -->
<p-dialog class="dialog--small"
          header="Invite Friends" 
          [(visible)]="displayModalInviteFriends" 
          [modal]="true" 
          appendTo="body"
          [style]="{width: '45rem'}"
          [baseZIndex]="10000"
          [draggable]="false">

        <p class="p-dialog__sentence p-dialog__sentence--paragraph">
            Input the user full name to invite them to the event !
        </p>

        <span class="p-fluid">
            <p-autoComplete [(ngModel)]="selectedUsers" 
                            [suggestions]="filteredUsers" 
                            (completeMethod)="filterUser($event)" 
                            field="fullname" 
                            [multiple]="true">
            </p-autoComplete>
        </span>

        <div class="p-dialog__btns">
            <button class="btn--clear btn--small" (click)="displayModalInviteFriends=false">Close</button>
            <button type="submit" class="btn btn--small" (click)="displayModalInviteFriends=false" [disabled]="!selectedUsers.length">Apply</button>
        </div>

</p-dialog>
<!-- Dialog to invite friends to an private event -->

